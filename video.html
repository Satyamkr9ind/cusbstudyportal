<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CUSB Video Platform</title>
  <link rel="stylesheet" href="video.css" />
  <style>
    #uploadFormContainer {
      display: none;
      margin-top: 15px;
      border: 1px solid #ccc;
      padding: 15px;
      max-width: 500px;
      background: #fff;
      border-radius: 6px;
    }
    #uploadFormContainer input,
    #uploadFormContainer textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      box-sizing: border-box;
      border: 1px solid #aaa;
      border-radius: 4px;
    }
    #uploadFormContainer button {
      padding: 10px 20px;
      cursor: pointer;
      background-color: #ff5722;
      color: white;
      border: none;
      border-radius: 4px;
    }
    #uploadFormContainer button.cancel-btn {
      background-color: #999;
      margin-left: 10px;
    }
    #authPopup {
      display: none;
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #00000050;
      z-index: 9999;
      max-width: 350px;
      width: 90%;
    }
    #authPopup input {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      box-sizing: border-box;
      border: 1px solid #aaa;
      border-radius: 4px;
    }
    #authPopup button {
  display: block;
  margin: 0 auto;
  padding: 10px 20px;
  cursor: pointer;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
}

    #switchMode, #forgotPassword {
      cursor: pointer;
      color: blue;
      text-align: center;
      margin-top: 10px;
      user-select: none;
    }
  </style>
</head>
<body>
  <header>
  <div id="userInfo"></div>
  
  <button id="toggleSidebarBtn" onclick="toggleSidebar()" aria-label="Toggle Sidebar" style="background: none; border: none; cursor: pointer;">
    <svg width="28" height="28" viewBox="0 0 100 80" fill="black" xmlns="http://www.w3.org/2000/svg">
      <rect width="100" height="10"></rect>
      <rect y="30" width="100" height="10"></rect>
      <rect y="60" width="100" height="10"></rect>
    </svg>
  </button>

  <button class="upload-btn" id="loginBtn" onclick="showAuthPopup()">Login</button>
  <button class="upload-btn" id="uploadBtn" style="display:none;">Upload Video</button>
</header>



 <div class="container">
  <aside id="leftSidebar">
    <h3><br>Topics</h3>
    <ul id="topicList"></ul>
  </aside>
  
<div id="sidebarOverlay" onclick="toggleSidebar()"></div>
  <main class="main-content">
    <div class="search-wrapper">
    <input type="text" id="searchInput" placeholder="Search videos..." />
  </div>
    <div class="video-grid" id="videosContainer"></div>

    <div id="uploadFormContainer">
      <h3>Upload Video (Admin approval required)</h3>

      <input id="uploadLink" type="text" placeholder="Video Link (e.g. YouTube embed URL)" />
      <input id="uploadTitle" type="text" placeholder="Title" maxlength="64" />
      <small id="titleCount">64 characters remaining</small>

      <input id="uploadTopic" type="text" placeholder="Topic" maxlength="64" />
      <small id="topicCount">64 characters remaining</small>

      <textarea id="uploadDescription" placeholder="Description" maxlength="400"></textarea>
      <small id="descriptionCount">400 characters remaining</small>

      <button id="uploadSubmitBtn">Submit</button>
      <button id="uploadCancelBtn" class="cancel-btn" type="button">Cancel</button>
    </div>
  </main>
</div>

<div id="authPopup">
  <button id="authCloseBtn" onclick="closeAuthPopup()">×</button>
  <h3 id="authTitle">Login</h3>
  <input type="text" id="authName" placeholder="Name (Only for Sign Up)" style="display:none;" />
  <input type="email" id="authEmail" placeholder="Email" />
  <input type="password" id="authPassword" placeholder="Password (min 6 characters)" />
  <input type="text" id="authMobile" placeholder="Mobile (optional)" style="display:none;" />
  <button onclick="submitAuth()">Submit</button>
  <p id="switchMode" onclick="toggleAuthMode()">Don't have an account? Sign up</p>
  <p id="forgotPassword" onclick="requestPassword()">Forgot Password?</p>
</div>
<!-- Comment Modal -->
<div id="commentModal" style="display:none; position: fixed; top:0; left:0; width: 100vw; height: 100vh; 
  background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">

  <div id="modalContent" style="background: white; padding: 20px; border-radius: 8px; position: relative;">
    <button onclick="closeModal()" style="position: absolute; top: 10px; right: 10px; font-size: 18px;">✖</button>
    <h2>Comments</h2>
    <div id="modalCommentsContainer" style="max-height: 400px; overflow-y: auto;"></div>
  </div>
</div>



<script>
    function toggleSidebar() {
      const sidebar = document.getElementById("leftSidebar");
      const overlay = document.getElementById("sidebarOverlay");
      sidebar.classList.toggle("open");
      overlay.classList.toggle("show");
    }



    document.getElementById('modalCloseBtn').onclick = () => {
  const modal = document.getElementById('videoModal');
  modal.style.display = 'none';
  document.getElementById('modalVideoContainer').innerHTML = ''; // clear video
  document.getElementById('modalCommentsContainer').innerHTML = ''; // clear comments
};

  </script>

   <script src="video.js"></script>
   
</body>
</html>